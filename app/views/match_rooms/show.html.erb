<p id="notice"><%= notice %></p>

<p>
  <strong>Match room name:</strong>
  <%= @match_room.name %>
  (<%= @match_room.duration %> s)
  <%= link_to 'Edit', edit_match_room_path(@match_room) %> |
  <%= link_to 'Back', match_rooms_path %>
</p>

<% @match_room.players.each do |player| %>
  <p>
  <% if @match_room.moves.last.turn.eql? player.color %>
    <strong><%= link_to player.color.capitalize + ' pieces:', permitted_moves_path(@move) %></strong>
  <% else %>
    <strong><%= player.color.capitalize %> pieces:</strong>
  <% end %>
    <% player.in_game_pieces.each do |piece| %>
      <% if @match_room.moves.last.turn.eql? player.color %>
        (<%= link_to piece.family.capitalize + ' | ' + piece.coordinates, permitted_moves_path(@move, piece_id: piece) %>)
      <% else %>
        (<%= piece.family.capitalize + ' | ' + piece.coordinates %>)
      <% end %>
    <% end %>
  </p>
<% end %>

<p>
  <strong>Moves:</strong>
  <% @match_room.moves.each_with_index do |move, i| %>
    <p>
      <%= i + 1 %>: <%= move.notation || 'waiting for ' + move.turn %> (<%= move.duration %> s)
    </p>
  <% end %>
</p>
